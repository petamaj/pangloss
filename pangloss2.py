import sys
import csv
import math

def words(fileobj):
    for line in fileobj:
        for word in line.split():
            yield word


php = { '=' : 941422 ,  '{' : 765160 ,  '=>' : 763594 ,  '}' : 762186 ,  'function' : 345522 ,  'public' : 290964 ,  'if' : 259775 ,  'return' : 222685 ,  'new' : 130823 ,  '.' : 123430 ,  'use' : 101998 ,  ');' : 80648 ,  'array(' : 71631 ,  '<?php' : 62340 ,  '),' : 60995 ,  'as' : 60582 ,  'class' : 57626 ,  'else' : 50966 ,  "'0'," : 50585 ,  'foreach' : 42805 ,  '&&' : 42508 ,  'extends' : 42496 ,  'print' : 42073 ,  '[' : 41022 ,  'private' : 40432 ,  "''," : 37404 ,  '==' : 35880 ,  '===' : 34708 ,  'null,' : 33399 ,  ')' : 32729 ,  'array' : 32018 ,  'throw' : 29855 ,  "'id'" : 28604 ,  "'," : 28457 ,  "'1'," : 28078 ,  'array();' : 28040 ,  'case' : 27443 ,  "'" : 26779 ,  '(' : 25320 ,  ':' : 25197 ,  'false;' : 24819 ,  '.=' : 24629 ,  'const' : 24575 ,  '?' : 23339 ,  '||' : 22741 ,  '0,' : 22121 ,  '[],' : 21662 ,  'true,' : 21202 ,  '],' : 20200 ,  'break;' : 19983 ,  'true;' : 19853 ,  '!==' : 19801 ,  'null)' : 19613 ,  'not' : 18855 ,  '0;' : 18660 ,  'null;' : 18267 ,  'static' : 18198 ,  '"' : 17364 ,  '-' : 17316 ,  'false,' : 16309 ,  '0)' : 15346 ,  '+' : 15225 ,  'for' : 14920 ,  '$this;' : 14082 ,  '1,' : 13992 ,  '>' : 13971 ,  "'';" : 13959 ,  'echo' : 13573 ,  '<' : 13100 ,  '$result' : 12622 ,  'global' : 12038 ,  '$sql.=' : 11874 ,  'false);' : 11788 ,  '!=' : 11631 ,  'in' : 11494 ,  '];' : 11216 ,  'AND' : 11149 ,  'of' : 11131 ,  '(!' : 10921 ,  'elseif' : 10771 ,  '*' : 10723 ,  "'type'" : 10596 ,  '1;' : 10473 ,  "'16'," : 9385 ,  'array(),' : 9335 ,  'false)' : 9299 ,  ']' : 9116 ,  "'body'," : 8947 ,  '$data' : 8706 ,  '[];' : 8635 ,  '0' : 8465 ,  'catch' : 8097 ,  'false' : 7932 ,  "'187'," : 7913 }


python = { '=' : 127029 ,  '#' : 75374 ,  'def' : 39952 ,  'the' : 37945 ,  'if' : 32369 ,  'in' : 22803 ,  'return' : 20984 ,  'a' : 20375 ,  'is' : 19248 ,  'for' : 18792 ,  'to' : 17378 ,  '->' : 16634 ,  'of' : 13981 ,  'and' : 13727 ,  'not' : 12204 ,  'import' : 11129 ,  'class' : 10772 ,  'LETTER' : 10544 ,  '+' : 10253 ,  '==' : 10017 ,  "'" : 9692 ,  'LATIN' : 7854 ,  'from' : 7832 ,  '"""' : 7749 ,  'with' : 7340 ,  'be' : 7093 ,  'else:' : 6495 ,  'or' : 6469 ,  '%' : 6417 ,  'None,' : 6384 ,  '1' : 6244 ,  'as' : 6021 ,  ':' : 5902 ,  'that' : 5860 ,  'try:' : 5660 ,  'SMALL' : 5169 ,  'raise' : 5036 ,  'print' : 4991 ,  '-' : 4809 ,  'CAPITAL' : 4679 ,  'pass' : 4628 ,  'this' : 4487 ,  'None' : 4392 ,  'except' : 4289 ,  '0' : 4265 ,  'an' : 4237 ,  'are' : 4200 ,  '>>>' : 3819 ,  'The' : 3798 ,  'it' : 3781 ,  'by' : 3751 ,  'WITH' : 3750 ,  'file' : 3560 ,  'on' : 3404 ,  'name' : 3375 ,  '*' : 3287 ,  'i' : 3142 ,  'x' : 2965 ,  'None:' : 2896 ,  '[]' : 2855 ,  'line' : 2841 ,  'elif' : 2808 ,  'which' : 2555 ,  's' : 2517 ,  'This' : 2507 ,  'test' : 2499 ,  '2' : 2392 ,  'value' : 2364 ,  'c' : 2350 ,  'will' : 2284 ,  'we' : 2272 ,  '"' : 2249 ,  '|' : 2246 ,  'b' : 2210 ,  'should' : 2208 ,  'If' : 2198 ,  '...' : 2189 ,  "'\\n'" : 2140 ,  'can' : 2139 ,  '>' : 2100 ,  '!=' : 2091 ,  '<' : 2076 ,  'all' : 2048 ,  'string' : 2045 ,  '0,' : 2041 ,  'data' : 2023 ,  '1,' : 2018 ,  'module' : 1982 ,  'result' : 1969 ,  '{' : 1924 ,  'list' : 1908 ,  'A' : 1854 ,  'while' : 1845 ,  'object' : 1830 ,  '0)' : 1824 ,  '1)' : 1820 ,  '}' : 1808 ,  'have' : 1788 ,  '\\' : 1727 ,  'when' : 1721 }

scala = { '=' : 187433 ,  '*' : 124068 ,  '{' : 112505 ,  '}' : 106920 ,  'val' : 81495 ,  'def' : 79992 ,  '=>' : 51929 ,  '//' : 51356 ,  'case' : 35328 ,  'of' : 31812 ,  '*/' : 31146 ,  'new' : 30808 ,  'if' : 28925 ,  'import' : 24915 ,  '/**' : 24412 ,  'for' : 22660 ,  'in' : 21795 ,  'with' : 20957 ,  '+' : 20565 ,  'this' : 20430 ,  'class' : 19228 ,  'extends' : 18429 ,  'override' : 15929 ,  '==' : 14181 ,  'else' : 13235 ,  '|' : 12933 ,  'object' : 12326 ,  'or' : 12106 ,  'Int' : 11192 ,  'not' : 10906 ,  'private' : 10787 ,  'under' : 10110 ,  'type' : 9215 ,  'file' : 9155 ,  '0' : 8628 ,  'var' : 8493 ,  '===' : 8462 ,  '"' : 8303 ,  'trait' : 8160 ,  '/*' : 8063 ,  'match' : 7772 ,  'Unit' : 7678 ,  '-' : 7563 ,  'on' : 7487 ,  'License' : 7369 ,  '::' : 7366 ,  '_' : 7058 ,  '@param' : 6800 ,  '&&' : 6774 ,  'package' : 6639 ,  'as' : 6616 ,  '1' : 6597 ,  '**' : 6342 ,  ';' : 6289 ,  '/' : 6246 ,  'may' : 6224 ,  'A' : 6192 ,  'See' : 5566 ,  '->' : 5153 ,  'should' : 5093 ,  'Int,' : 5052 ,  'You' : 5000 ,  'License.' : 4932 ,  'Apache' : 4915 ,  'value' : 4841 ,  'at' : 4791 ,  'x' : 4779 ,  'use' : 4706 ,  'Boolean' : 4696 ,  '+=' : 4688 ,  'one' : 4615 ,  'This' : 4591 ,  'String,' : 4418 ,  'null' : 4304 ,  'String' : 4204 ,  '!=' : 4201 ,  'all' : 4170 ,  'final' : 3906 ,  'more' : 3853 ,  '<-' : 3842 ,  '0)' : 3781 ,  '<' : 3754 ,  'Test' : 3708 ,  '1)' : 3675 ,  ')' : 3662 }


# javascript = { '=' : 12055170 ,  '{' : 9782402 ,  '*' : 6515564 ,  '}' : 6215427 ,  '//' : 4232433 ,  'if' : 3975544 ,  'var' : 3794008 ,  'return' : 2896325 ,  '+' : 2214913 ,  ')' : 2011990 ,  ':' : 1923769 ,  '},' : 1791495 ,  'function' : 1653256 ,  '};' : 1304357 ,  '&&' : 1285033 ,  'for' : 1231006 ,  '*/' : 1195536 ,  '||' : 1191306 ,  'of' : 1188305 ,  '(' : 1181977 ,  '});' : 1144430 ,  '===' : 1133429 ,  ');' : 1017617 ,  '/**' : 986584 ,  'else' : 973686 ,  'in' : 916063 ,  '-' : 892147 ,  '@param' : 837900 ,  '0,' : 791417 ,  '?' : 769551 ,  'new' : 736992 ,  'i' : 642958 ,  '==' : 615137 ,  '<' : 530953 ,  'this' : 516728 ,  '0;' : 516360 ,  'value' : 507245 ,  'or' : 473290 ,  '!==' : 467648 ,  'case' : 416773 ,  'with' : 393065 ,  ']' : 387197 ,  'not' : 386196 ,  '0' : 351360 ,  '[' : 348451 ,  '()' : 344756 ,  'on' : 341360 ,  'false;' : 330705 ,  'name' : 329510 ,  'true;' : 328129 ,  'object' : 303139 ,  ',' : 296056 ,  'as' : 295394 ,  '|' : 287999 ,  '>' : 286807 ,  'break;' : 281671 ,  '"' : 275435 ,  '1' : 275281 ,  '1,' : 264704 ,  'null;' : 259276 ,  '!=' : 252568 ,  '+=' : 248094 ,  'data' : 246542 ,  'type' : 243483 ,  'event' : 238086 ,  '],' : 234510 ,  'If' : 230798 ,  "'" : 228981 ,  'element' : 227815 ,  'when' : 222430 ,  '0)' : 220692 ,  'this;' : 219421 ,  '[];' : 212988 ,  'false,' : 211557 ,  'true,' : 210064 ,  '/*' : 204479 ,  'return;' : 203495 ,  'true' : 202797 ,  '{};' : 197651 ,  '/' : 196894 ,  'elem,' : 193290 ,  '@return' : 191225 ,  'elem' : 189841 ,  'null,' : 189246 }


javascript = { '=' : 97582 ,  '{' : 71715 ,  '}' : 42792 ,  'var' : 40475 ,  '*' : 36627 ,  'if' : 30302 ,  '//' : 29291 ,  'return' : 22334 ,  'function' : 21499 ,  'the' : 17250 ,  '+' : 14450 ,  '===' : 11115 ,  'to' : 10506 ,  '});' : 9570 ,  'a' : 8828 ,  '};' : 8479 ,  '&&' : 8176 ,  'new' : 7205 ,  'is' : 6891 ,  'of' : 6867 ,  '||' : 6692 ,  'else' : 6457 ,  'for' : 6451 ,  '},' : 6407 ,  '*/' : 6166 ,  ':' : 5310 ,  '@param' : 5013 ,  '/**' : 4877 ,  'The' : 4650 ,  'in' : 4594 ,  '})' : 4373 ,  'and' : 4365 ,  '0;' : 4290 ,  'i' : 4269 ,  '-' : 4245 ,  '<' : 4209 ,  '!==' : 4051 ,  '?' : 4020 ,  ',' : 3543 ,  'function()' : 3530 ,  'module.exports' : 3251 ,  '+=' : 3149 ,  'not' : 3115 ,  '()' : 3084 ,  'case' : 3009 ,  'const' : 3005 ,  'that' : 2973 ,  'be' : 2962 ,  "'use" : 2945 ,  "strict';" : 2860 ,  'false;' : 2770 ,  '@returns' : 2626 ,  "'" : 2622 ,  'throw' : 2524 ,  'with' : 2520 ,  'true;' : 2481 ,  'an' : 2445 ,  'value' : 2427 ,  'this' : 2408 ,  '0,' : 2383 ,  'node' : 2349 ,  'or' : 2318 ,  '=>' : 2130 ,  'true' : 2101 ,  '0)' : 2059 ,  '==' : 1971 ,  'as' : 1863 ,  '>' : 1819 ,  'it' : 1797 ,  '(var' : 1794 ,  'false' : 1776 ,  '[' : 1738 ,  'are' : 1717 ,  'on' : 1701 ,  'object' : 1684 ,  '(typeof' : 1680 ,  'result' : 1642 ,  'from' : 1640 ,  'Returns' : 1549 ,  'null;' : 1518 ,  'we' : 1495 ,  'return;' : 1429 ,  'array' : 1412 ,  '0' : 1411 ,  '&' : 1388 ,  'true,' : 1381 ,  'cb)' : 1379 ,  'should' : 1346 ,  '[];' : 1297 ,  'path' : 1289 ,  'false,' : 1286 ,  'while' : 1273 ,  '(t)' : 1265 ,  'by' : 1256 ,  'options' : 1252 ,  'assert' : 1250 ,  'type:' : 1234 ,  'i++)' : 1224 ,  'null' : 1221 ,  'break;' : 1206 }

cplusplus = { '//' : 199606 ,  '=' : 124262 ,  '{' : 111007 ,  '}' : 88909 ,  'if' : 64362 ,  'the' : 51906 ,  'return' : 43217 ,  'void' : 37224 ,  'a' : 30266 ,  'to' : 27065 ,  'for' : 26911 ,  'const' : 24195 ,  'of' : 23185 ,  'case' : 22367 ,  'int' : 22043 ,  'is' : 21940 ,  '///' : 21211 ,  'CHECK:' : 21120 ,  '};' : 19450 ,  'struct' : 18760 ,  '<<' : 17860 ,  ':' : 16274 ,  '&&' : 16014 ,  '==' : 14989 ,  'in' : 12586 ,  '-' : 12579 ,  'bool' : 12567 ,  '|' : 11372 ,  '#pragma' : 11244 ,  'omp' : 11176 ,  'class' : 10844 ,  'be' : 10631 ,  'else' : 10245 ,  'and' : 9703 ,  'we' : 9492 ,  'template' : 9186 ,  'this' : 9093 ,  'not' : 8940 ,  '0;' : 8822 ,  'type' : 8759 ,  'that' : 8609 ,  'i' : 8592 ,  'an' : 8338 ,  '!=' : 8153 ,  '"' : 7998 ,  'break;' : 7894 ,  '%s' : 7870 ,  'i32' : 7804 ,  'static' : 7480 ,  'RUN:' : 7463 ,  'false;' : 7426 ,  '||' : 7402 ,  'true;' : 6999 ,  '<' : 6903 ,  'unsigned' : 6832 ,  '#include' : 6637 ,  'with' : 6401 ,  'A' : 6377 ,  '{}' : 6091 ,  'or' : 5921 ,  'call' : 5876 ,  'If' : 5820 ,  '+' : 5814 ,  'function' : 5757 ,  'T>' : 5603 ,  'are' : 5538 ,  'char' : 5196 ,  'return;' : 5176 ,  'it' : 5008 ,  'as' : 4992 ,  '(const' : 4839 ,  '0,' : 4756 ,  'auto' : 4615 ,  'This' : 4606 ,  'have' : 4539 ,  'x' : 4503 ,  'virtual' : 4421 ,  'QualType' : 4402 ,  'parallel' : 4196 ,  'The' : 4084 ,  'from' : 4052 ,  '0' : 3957 ,  'nullptr;' : 3866 ,  'I' : 3840 ,  '?' : 3834 ,  '+=' : 3792 ,  'new' : 3734 ,  'T' : 3715 ,  'define' : 3615 ,  '(int' : 3597 ,  'on' : 3348 ,  'typedef' : 3336 ,  'by' : 3225 ,  'using' : 3136 ,  '++i)' : 3085 ,  'FIXME:' : 3045 ,  '\\' : 3041 ,  'B' : 3030 ,  'here}}' : 3000 ,  'no' : 2971 }

java = { '{' : 594399 ,  '}' : 582986 ,  '=' : 569661 ,  'public' : 295333 ,  '+' : 248836 ,  'if' : 199625 ,  'return' : 173455 ,  'new' : 169395 ,  'import' : 158535 ,  'int' : 133518 ,  'static' : 103148 ,  'void' : 101021 ,  'private' : 92721 ,  'long' : 91498 ,  'final' : 82146 ,  '==' : 81298 ,  'String' : 72857 ,  '!=' : 63384 ,  'throws' : 59309 ,  '"' : 57523 ,  'null)' : 53530 ,  'else' : 49292 ,  'boolean' : 45951 ,  'throw' : 40572 ,  'for' : 37175 ,  'i' : 37094 ,  '0;' : 34835 ,  'class' : 34724 ,  'null;' : 34576 ,  '<' : 33745 ,  '&&' : 32309 ,  ':' : 30912 ,  'case' : 30457 ,  'try' : 27628 ,  '0,' : 26937 ,  'catch' : 24365 ,  'false;' : 23413 ,  '0)' : 22544 ,  'extends' : 21831 ,  '-' : 21619 ,  '(int' : 20772 ,  '||' : 19489 ,  'package' : 19158 ,  'true;' : 19028 ,  'e)' : 18621 ,  'break;' : 18043 ,  ';' : 16737 ,  'null' : 16731 ,  '>' : 15823 ,  'i++)' : 15288 ,  ')' : 14413 ,  '?' : 13950 ,  '&' : 13323 ,  'Object' : 12427 ,  'String[]' : 10983 ,  '*' : 10901 ,  '+=' : 10868 ,  'while' : 10492 ,  'byte[]' : 10134 ,  'return;' : 10026 ,  'not' : 9664 ,  '1;' : 9246 ,  '>=' : 8799 ,  'null,' : 8616 ,  '0' : 8443 ,  'abstract' : 7973 ,  'true);' : 7833 ,  '1,' : 7641 ,  'Path' : 7515 ,  '};' : 7173 ,  ');' : 7094 ,  'null);' : 6739 ,  'result' : 6702 ,  'false);' : 6491 ,  'finally' : 6153 ,  '256,' : 6018 ,  '@Test' : 5959 ,  '0);' : 5710 ,  '<=' : 5605 ,  'in' : 5511 ,  'char[]' : 5369 ,  '{}' : 5325 ,  '1);' : 5325 ,  'of' : 5177 ,  'double' : 5113 ,  '|' : 5107 ,  'false,' : 5019 ,  'float' : 4959 ,  '(byte)' : 4885 ,  '19002,' : 4883 ,  'x,' : 4799 ,  'args)' : 4694 ,  '",' : 4621 ,  '20283,' : 4602 ,  '19029,' : 4508 ,  '-1;' : 4447 }


# java = { '*' : 1210449 ,  '{' : 528948 ,  '}' : 514962 ,  '=' : 502280 ,  'public' : 275248 ,  'if' : 250458 ,  '//' : 247750 ,  '+' : 246653 ,  'of' : 202305 ,  'new' : 168476 ,  '*/' : 161688 ,  'return' : 154957 ,  'import' : 146907 ,  'this' : 139987 ,  'for' : 129919 ,  'in' : 127396 ,  '/**' : 120508 ,  'int' : 116504 ,  'or' : 106119 ,  'static' : 98077 ,  'void' : 94196 ,  'long' : 92680 ,  '-' : 91282 ,  'private' : 89295 ,  'final' : 75071 ,  'String' : 70626 ,  'License' : 69417 ,  'file' : 68498 ,  '==' : 66954 ,  'as' : 61763 ,  'with' : 61703 ,  'throws' : 59790 ,  '"' : 58189 ,  'This' : 58094 ,  '@param' : 57635 ,  'version' : 54971 ,  '2' : 53643 ,  'not' : 53022 ,  'class' : 52927 ,  'Oracle' : 52747 ,  'Public' : 50763 ,  'General' : 50722 ,  'GNU' : 50546 ,  '!=' : 50292 ,  'you' : 48772 ,  'have' : 45625 ,  'null)' : 43881 ,  '/*' : 43251 ,  'under' : 42929 ,  'else' : 42409 ,  'OR' : 42040 ,  'copy' : 41799 ,  'throw' : 41101 ,  'code' : 40753 ,  'Software' : 39989 ,  'boolean' : 38913 ,  'and/or' : 34145 ,  'Free' : 33752 ,  'should' : 32797 ,  'See' : 31074 ,  'i' : 30391 ,  '0;' : 29606 ,  'null;' : 29416 ,  'on' : 29402 ,  '<' : 28757 ,  '@return' : 28212 ,  'more' : 28156 ,  'try' : 27776 ,  'value' : 27181 ,  'A' : 27036 ,  'any' : 26489 ,  'LICENSE' : 26334 ,  'its' : 26073 ,  'method' : 25543 ,  '&&' : 25201 ,  'ANY' : 23985 ,  'but' : 23840 ,  'case' : 23801 ,  'may' : 23670 ,  'catch' : 23583 ,  'You' : 23538 ,  'WITHOUT' : 23024 ,  '0,' : 22756 ,  ':' : 21751 ,  '@see' : 21701 }


ruby = { '#' : 16500 ,  'end' : 11966 ,  '=' : 10622 ,  'the' : 6374 ,  'def' : 5902 ,  'if' : 4075 ,  'to' : 3113 ,  'a' : 2810 ,  '=>' : 1978 ,  'is' : 1975 ,  'of' : 1921 ,  'do' : 1897 ,  'and' : 1699 ,  'for' : 1604 ,  '##' : 1434 ,  'in' : 1255 ,  'unless' : 1241 ,  'be' : 1238 ,  'require' : 1174 ,  'class' : 1150 ,  '<<' : 1140 ,  'else' : 1129 ,  '==' : 1128 ,  '}' : 1084 ,  'that' : 1039 ,  'true' : 1034 ,  'this' : 957 ,  'return' : 943 ,  '{' : 935 ,  'when' : 904 ,  'then' : 904 ,  '&&' : 902 ,  'gem' : 888 ,  'not' : 823 ,  'or' : 810 ,  'nil' : 761 ,  'raise' : 747 ,  'The' : 746 ,  'are' : 735 ,  '||' : 730 ,  'with' : 704 ,  'from' : 702 ,  'name' : 668 ,  'an' : 665 ,  '"' : 643 ,  ':nodoc:' : 615 ,  'module' : 614 ,  'will' : 580 ,  '<' : 571 ,  '[]' : 544 ,  'false,' : 542 ,  'as' : 537 ,  '||=' : 523 ,  'path' : 517 ,  'nil,' : 507 ,  'by' : 495 ,  'it' : 490 ,  'on' : 488 ,  'If' : 480 ,  'false' : 471 ,  'options' : 470 ,  'version' : 463 ,  ':' : 460 ,  '?' : 456 ,  'value' : 452 ,  'rescue' : 445 ,  'given' : 439 ,  'attr_reader' : 434 ,  'file' : 433 ,  'gems' : 432 ,  '+' : 427 ,  'you' : 427 ,  'spec' : 426 ,  'frozen_string_literal:' : 412 ,  'all' : 404 ,  'Returns' : 403 ,  'can' : 391 ,  'This' : 374 ,  '1' : 367 ,  'source' : 358 ,  '@return' : 354 ,  'command' : 331 ,  '-' : 329 ,  '\\' : 320 ,  '{}' : 303 ,  'begin' : 301 ,  'result' : 296 ,  'your' : 296 ,  'dependency' : 296 ,  'set' : 295 ,  'private' : 294 ,  'use' : 282 ,  'default' : 272 ,  'Bundler' : 270 ,  'used' : 264 ,  'new' : 264 ,  'elsif' : 263 ,  '=~' : 263 ,  '*' : 261 ,  'specs' : 260 }


perl = { '#' : 20217 ,  ';' : 13281 ,  '=' : 7507 ,  '{' : 6315 ,  '}' : 5833 ,  'LETTER' : 5626 ,  'my' : 5253 ,  'the' : 5172 ,  'CJK' : 5098 ,  'if' : 3953 ,  'LATIN' : 3229 ,  'to' : 3033 ,  'WITH' : 2987 ,  '=>' : 2438 ,  'SMALL' : 2250 ,  'is' : 2219 ,  'CAPITAL' : 2064 ,  'a' : 1945 ,  'and' : 1788 ,  'for' : 1766 ,  'of' : 1648 ,  'in' : 1543 ,  'print' : 1373 ,  '=~' : 1262 ,  'or' : 1115 ,  'sub' : 1083 ,  'MARK>' : 1035 ,  '(' : 1023 ,  ')' : 1016 ,  'use' : 974 ,  'that' : 951 ,  'KATAKANA' : 933 ,  'eq' : 883 ,  'be' : 869 ,  'unless' : 788 ,  '"' : 777 ,  'it' : 763 ,  'die' : 760 ,  'we' : 744 ,  'ACUTE' : 740 ,  'not' : 740 ,  'return' : 732 ,  'this' : 718 ,  'RADICAL' : 699 ,  'SOUND' : 696 ,  '##' : 685 ,  'U' : 684 ,  '.' : 679 ,  '-' : 668 ,  'AND' : 654 ,  '+' : 651 ,  'are' : 646 ,  'KANGXI' : 642 ,  '<LATIN' : 627 ,  'else' : 620 ,  '&&' : 606 ,  'ok' : 602 ,  ':' : 598 ,  'with' : 588 ,  'as' : 584 ,  'O' : 578 ,  ');' : 566 ,  '||' : 511 ,  '?' : 506 ,  'from' : 498 ,  'A' : 494 ,  'E' : 492 ,  'file' : 489 ,  'If' : 479 ,  'The' : 478 ,  'defined' : 470 ,  'VOICED' : 467 ,  'GRAVE' : 455 ,  'by' : 441 ,  'push' : 437 ,  'on' : 428 ,  'This' : 419 ,  'foreach' : 411 ,  'elsif' : 410 ,  'new' : 403 ,  '0;' : 403 ,  '1' : 403 ,  'will' : 402 ,  '*' : 400 ,  '1;' : 399 ,  '==' : 399 ,  'an' : 392 ,  'have' : 365 ,  '|' : 357 ,  'all' : 355 ,  'set' : 352 ,  'while' : 347 ,  '};' : 346 ,  '[' : 342 ,  'code' : 342 ,  'shift;' : 338 ,  '@_;' : 335 ,  'next' : 333 ,  '30FC' : 328 ,  'CARON' : 326 }

c = { '=' : 2676314 ,  '{' : 1368862 ,  '*' : 1254223 ,  '}' : 1051623 ,  'if' : 1022007 ,  '*/' : 854162 ,  '/*' : 807015 ,  'struct' : 703407 ,  'return' : 586933 ,  'int' : 542039 ,  'static' : 478685 ,  '0;' : 328241 ,  'for' : 229611 ,  '#include' : 227685 ,  '==' : 225465 ,  '&' : 223274 ,  '+' : 215075 ,  '0x00,' : 213429 ,  'void' : 211655 ,  'case' : 199378 ,  '#define' : 191776 ,  '},' : 187848 ,  'unsigned' : 181197 ,  'of' : 180900 ,  '-' : 178034 ,  '|' : 174062 ,  '0,' : 161034 ,  'else' : 158414 ,  '<' : 156471 ,  'break;' : 152386 ,  'goto' : 134425 ,  '};' : 129428 ,  'const' : 123385 ,  'in' : 121138 ,  '0)' : 115014 ,  'ret' : 112447 ,  '&&' : 107117 ,  '!=' : 104830 ,  'u32' : 98720 ,  '<<' : 96761 ,  'long' : 89361 ,  '|=' : 85573 ,  'char' : 84254 ,  'ret;' : 78141 ,  '||' : 76388 ,  '1;' : 73291 ,  'this' : 70846 ,  'u8' : 66476 ,  '1,' : 64523 ,  'on' : 63656 ,  '0);' : 62992 ,  'not' : 62199 ,  ':' : 61955 ,  'This' : 61835 ,  'i' : 61716 ,  'device' : 60665 ,  '>' : 60245 ,  'NULL;' : 59736 ,  '0' : 57635 ,  'or' : 56827 ,  '(i' : 55804 ,  'err' : 55224 ,  'with' : 53485 ,  '-EINVAL;' : 52526 ,  '\\' : 52301 ,  '+=' : 52252 ,  '?' : 47432 ,  '>>' : 47102 ,  'as' : 45980 ,  'return;' : 45190 ,  'NULL,' : 44293 ,  'err;' : 41835 ,  '#endif' : 41806 ,  'data' : 41289 ,  '"' : 40969 ,  '1' : 40800 ,  'i++)' : 40540 ,  'switch' : 40141 ,  '/**' : 39990 ,  'while' : 37648 ,  '>=' : 37432 ,  '&=' : 36354 ,  'i;' : 35563 ,  'flags);' : 34566 ,  '1);' : 34558 }


typescript = { '{' : 64204 ,  '}' : 49367 ,  '=' : 46513 ,  '//' : 27202 ,  'var' : 23998 ,  '////' : 14690 ,  'return' : 14608 ,  'function' : 13574 ,  'if' : 10678 ,  '=>' : 10547 ,  'export' : 8282 ,  'class' : 7461 ,  'const' : 7319 ,  'new' : 5238 ,  'of' : 5033 ,  '===' : 4939 ,  'extends' : 4572 ,  'x' : 4456 ,  '};' : 4248 ,  'case' : 4161 ,  'public' : 4046 ,  '+' : 4018 ,  'for' : 3891 ,  'string;' : 3661 ,  'type' : 3489 ,  '()' : 3469 ,  'let' : 3417 ,  'module' : 3297 ,  'number;' : 3209 ,  'in' : 3187 ,  '&&' : 3170 ,  ':' : 3070 ,  'error' : 3000 ,  '|' : 2984 ,  '*' : 2956 ,  'x:' : 2838 ,  'string' : 2586 ,  '},' : 2574 ,  'number' : 2471 ,  '||' : 2362 ,  'static' : 2344 ,  'true' : 2206 ,  'string,' : 2183 ,  '});' : 2182 ,  'x;' : 2182 ,  'else' : 2172 ,  '1;' : 2171 ,  'private' : 2171 ,  '////}' : 2171 ,  'declare' : 2105 ,  '0;' : 2086 ,  'y' : 1992 ,  '?' : 1934 ,  'y:' : 1920 ,  '<' : 1853 ,  'i' : 1801 ,  'as' : 1797 ,  'number,' : 1792 ,  '-' : 1769 ,  'import' : 1741 ,  'C' : 1732 ,  'not' : 1664 ,  'A' : 1633 ,  'with' : 1606 ,  'typeof' : 1601 ,  'this' : 1562 ,  'number)' : 1543 ,  '!==' : 1535 ,  'a:' : 1533 ,  '////var' : 1478 ,  'T;' : 1443 ,  '*/' : 1425 ,  'b' : 1419 ,  '&' : 1407 ,  'string):' : 1383 ,  'T)' : 1377 ,  'number):' : 1350 ,  '/>' : 1339 ,  'null;' : 1329 ,  '///' : 1315 ,  'this;' : 1298 ,  'any)' : 1295 ,  '/**' : 1292 ,  'ok' : 1292 ,  'kind:' : 1288 ,  'get' : 1260 ,  'void;' : 1243 ,  'text:' : 1224 ,  '1' : 1209 ,  'string)' : 1208 }


classifiers = [cplusplus, javascript, java, c, ruby, perl, typescript, python, scala, php]
classes = ["C++", "JavaScript", "Java", "C", "Ruby", "Perl", "TypeScript", "Python", "Scala", "PHP"]

# Normalize classifiers

for i in range(0, len(classifiers)):
    total = reduce(lambda x,y: x+y, classifiers[i].values())
    for j in classifiers[i].keys():
        classifiers[i][j] = float(classifiers[i][j]) / total

# print classifiers

# Load up input file to be classified.

counts = {}
total = 0
with open('/dev/stdin', 'r') as f:
    wordgen = words(f)
    for word in wordgen:
        counts[word] = counts.get(word, 0) + 1
        total = total + 1

# Naive Bayes
# Bayes:
#  P(hypothesis_k true | evidence) = P(hypothesis_k true) * P(evidence | hypothesis_k true) / P(evidence)
#           posterior = prior * likelihood / evidence
# Naive Bayes:
#      ignore evidence as it is the same for all
#      => posterior ~ prior * likelihood
#
#      prior = #(hypothesis_k) / #(all hypotheses)
#      likelihood = P(evidence | hypothesis_k true)
#
#      assume independence of outcomes
#      now we just multiply prior * likelihood and find the argmax for k

# for multinomials:
#   argmax_k log prior + sum_i (evidence_i * log Pr(hypothesis_k[i]))

argmax = 0
max = float('-inf')

for i in xrange(0,len(classifiers)):
    val = 0

    counted = 0
    for word in sorted(counts, key=counts.get, reverse=True):
        c = classifiers[i].get(word, 0.0001)
        val = val + counts[word] * math.log(c)
        counted = counted + 1
    # val = val + math.log(prior[i])

    # val = val / math.sqrt(counted)
    if val > max:
        max = val
        argmax = i

print classes[argmax]

